<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <style>
        table {
            border: 3px solid;
        }

        #myInfoEdit {
            display: none;
        }

    </style>
</head>

<body>
    <h2>내 정보</h2>
    <div id='myInfo'></div>
    <table>
        <tr>
            <td>${name}</td>
            <td>(${id})</td>
        </tr>
        <tr>
            <td>${email}</td>
        </tr>
        <tr>
            <td>오늘의 닉네임 :</td>
            <td>${nickname}</td>
        </tr>
        <tr>
            <td colspan="2"><button onclick="editForm()">내 정보 수정</button></td>
        </tr>
    </table>

    <form id="myInfoEdit">
        <table>
            <tr>
                <td>이메일 주소</td>
            </tr>
            <tr>
                <td><input type="email" id="email"></td>
            </tr>
            <tr>
                <td>기존 비밀번호</td>
            </tr>
            <tr>
                <td><input type="password" id="pw1"></td>
            </tr>
            <tr>
                <td>새로운 비밀번호</td>
            </tr>
            <tr>
                <td><input type="password" id="pw2"></td>
            </tr>
            <tr>
                <td>비밀번호 다시입력</td>
            </tr>
            <tr>
                <td><input type="password" id="pw3"></td>
            </tr>
            <tr>
                <td><input type="submit" value="수정하기"></td>
            </tr>
            <tr>
                <td><button onclick="backBtn()">취소</button></td>
            </tr>
        </table>
    </form>

    <h2>즐겨찾는 장소</h2>

    <h2>선호 탑승 환경</h2>

    <script>
        $(document).ready(function() {
            $.ajax({
                url: 'http://localhost:9090/pClient/mypage',
                type: 'GET',
                success: function(data) {
                    /*var html = '';
                    html += '<table><tr><td>' + data.name + '</td><td>(' + data.id + ')</td></tr>';
                    html += '<tr><td>' + data.email + '</td></tr>';
                    html += '<tr><td>오늘의 닉네임 :</td><td>' + data.nickname + '</td></tr>';
                    html += '<tr><td colspan="2"><button onclick="editForm()">내 정보 수정</button></td></tr></table>';

                    $('#myInfo').html(html);*/
                    $('#myInfo').html(data);
                }
            });
        });

        function editForm() {
            $('#myInfoEdit').css('display', 'block');
        }

        function backBtn() {
            $('input').val('');
            $('#myInfoEdit').css('display', 'none');
        }

    </script>
</body>

</html>
